function setupAutoDetectMocking(server) {
  const assets = {
    assets: [
      {
        id: 29383543,
        token_id:
          '86818186862637897590416402377730948900221574858925543698968316530334305793541',
        num_sales: 0,
        background_color: null,
        image_url: 'https://metamask.github.io/test-dapp/metamask-fox.svg', // 'https://openseauserdata.com/files/ed6a6e7598980ee8ef8e5a08ea0304c9.svg',
        image_preview_url:
          'https://metamask.github.io/test-dapp/metamask-fox.svg', // 'https://openseauserdata.com/files/ed6a6e7598980ee8ef8e5a08ea0304c9.svg',
        image_thumbnail_url:
          'https://metamask.github.io/test-dapp/metamask-fox.svg', // 'https://openseauserdata.com/files/ed6a6e7598980ee8ef8e5a08ea0304c9.svg',
        image_original_url:
          'https://metadata.ens.domains/mainnet/0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85/0xbff15a37063625e314d681fa9d4099080b40fcc7dc2bd4a338a0b5ecb24eb605/image',
        animation_url: null,
        animation_original_url: null,
        name: 'peteryinusa.eth',
        description: 'peteryinusa.eth, an ENS name.',
        external_link: 'https://app.ens.domains/name/peteryinusa.eth',
        asset_contract: {
          address: '0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85',
          asset_contract_type: 'non-fungible',
          chain_identifier: 'ethereum',
          created_date: '2019-05-08T21:59:29.327544',
          name: 'Unidentified contract',
          nft_version: null,
          opensea_version: null,
          owner: 111982386,
          schema_name: 'ERC721',
          symbol: '',
          total_supply: '0',
          description:
            'Ethereum Name Service (ENS) domains are secure domain names for the decentralized world. ENS domains provide a way for users to map human readable names to blockchain and non-blockchain resources, like Ethereum addresses, IPFS hashes, or website URLs. ENS domains can be bought and sold on secondary markets.',
          external_link: 'https://ens.domains',
          image_url: 'https://metamask.github.io/test-dapp/metamask-fox.svg', // 'https://i.seadn.io/gae/0cOqWoYA7xL9CkUjGlxsjreSYBdrUBE0c6EO1COG4XE8UeP-Z30ckqUNiL872zHQHQU5MUNMNhfDpyXIP17hRSC5HQ?w=500&auto=format',
          default_to_fiat: false,
          dev_buyer_fee_basis_points: 0,
          dev_seller_fee_basis_points: 0,
          only_proxied_transfers: false,
          opensea_buyer_fee_basis_points: 0,
          opensea_seller_fee_basis_points: 250,
          buyer_fee_basis_points: 0,
          seller_fee_basis_points: 250,
          payout_address: null,
        },
        permalink:
          'https://opensea.io/assets/ethereum/0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85/86818186862637897590416402377730948900221574858925543698968316530334305793541',
        collection: {
          banner_image_url: null,
          chat_url: null,
          created_date: '2019-05-08T21:59:36.282454+00:00',
          default_to_fiat: false,
          description:
            'Ethereum Name Service (ENS) domains are secure domain names for the decentralized world. ENS domains provide a way for users to map human readable names to blockchain and non-blockchain resources, like Ethereum addresses, IPFS hashes, or website URLs. ENS domains can be bought and sold on secondary markets.',
          dev_buyer_fee_basis_points: '0',
          dev_seller_fee_basis_points: '0',
          discord_url: null,
          display_data: {
            card_display_style: 'cover',
          },
          external_url: 'https://ens.domains',
          featured: false,
          featured_image_url:
            'https://i.seadn.io/gae/BBj09xD7R4bBtg1lgnAAS9_TfoYXKwMtudlk-0fVljlURaK7BWcARCpkM-1LGNGTAcsGO6V1TgrtmQFvCo8uVYW_QEfASK-9j6Nr?w=500&auto=format',
          hidden: false,
          safelist_request_status: 'verified',
          image_url: 'https://metamask.github.io/test-dapp/metamask-fox.svg', // 'https://i.seadn.io/gae/0cOqWoYA7xL9CkUjGlxsjreSYBdrUBE0c6EO1COG4XE8UeP-Z30ckqUNiL872zHQHQU5MUNMNhfDpyXIP17hRSC5HQ?w=500&auto=format',
          is_subject_to_whitelist: false,
          large_image_url:
            'https://i.seadn.io/gae/BBj09xD7R4bBtg1lgnAAS9_TfoYXKwMtudlk-0fVljlURaK7BWcARCpkM-1LGNGTAcsGO6V1TgrtmQFvCo8uVYW_QEfASK-9j6Nr?w=500&auto=format',
          medium_username: 'the-ethereum-name-service',
          name: 'ENS: Ethereum Name Service',
          only_proxied_transfers: false,
          opensea_buyer_fee_basis_points: '0',
          opensea_seller_fee_basis_points: 250,
          payout_address: null,
          require_email: false,
          short_description: null,
          slug: 'ens',
          telegram_url: null,
          twitter_username: 'ensdomains',
          instagram_username: null,
          wiki_url: null,
          is_nsfw: false,
          fees: {
            seller_fees: {},
            opensea_fees: {
              '0x0000a26b00c1f0df003000390027140000faa719': 250,
            },
          },
          is_rarity_enabled: false,
          is_creator_fees_enforced: false,
        },
        decimals: null,
        token_metadata:
          'https://metadata.ens.domains/mainnet/0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85/86818186862637897590416402377730948900221574858925543698968316530334305793541',
        is_nsfw: false,
        owner: null,
        seaport_sell_orders: null,
        creator: {
          user: {
            username: 'ENSDeployer',
          },
          address: '0x4fe4e666be5752f1fdd210f4ab5de2cc26e3e0e8',
          config: 'verified',
          profile_img_url: '',
        },
        traits: [
          {
            trait_type: 'Length',
            display_type: 'number',
            max_value: null,
            trait_count: 93526,
            order: null,
            value: 11,
          },
          {
            trait_type: 'Segment Length',
            display_type: 'number',
            max_value: null,
            trait_count: 22322,
            order: null,
            value: 11,
          },
          {
            trait_type: 'Character Set',
            display_type: null,
            max_value: null,
            trait_count: 233279,
            order: null,
            value: 'letter',
          },
          {
            trait_type: 'Created Date',
            display_type: 'date',
            max_value: null,
            trait_count: 1,
            order: null,
            value: 1624394771.0,
          },
          {
            trait_type: 'Registration Date',
            display_type: 'date',
            max_value: null,
            trait_count: 1,
            order: null,
            value: 1624394771.0,
          },
          {
            trait_type: 'Expiration Date',
            display_type: 'date',
            max_value: null,
            trait_count: 1,
            order: null,
            value: 1687508675.0,
          },
        ],
        last_sale: null,
        top_bid: null,
        listing_date: null,
        supports_wyvern: true,
        rarity_data: null,
        transfer_fee: null,
        transfer_fee_payment_token: null,
      },
    ],
  };
  const assetEmpty = {
    assets: [],
  };
  const assetContract = {
    collection: {
      banner_image_url: null,
      chat_url: null,
      created_date: '2019-05-08T21:59:36.282454+00:00',
      default_to_fiat: false,
      description:
        'Ethereum Name Service (ENS) domains are secure domain names for the decentralized world. ENS domains provide a way for users to map human readable names to blockchain and non-blockchain resources, like Ethereum addresses, IPFS hashes, or website URLs. ENS domains can be bought and sold on secondary markets.',
      dev_buyer_fee_basis_points: '0',
      dev_seller_fee_basis_points: '0',
      discord_url: null,
      display_data: {
        card_display_style: 'cover',
      },
      external_url: 'https://ens.domains',
      featured: false,
      featured_image_url:
        'https://i.seadn.io/gae/BBj09xD7R4bBtg1lgnAAS9_TfoYXKwMtudlk-0fVljlURaK7BWcARCpkM-1LGNGTAcsGO6V1TgrtmQFvCo8uVYW_QEfASK-9j6Nr?w=500&auto=format',
      hidden: false,
      safelist_request_status: 'verified',
      image_url: 'https://metamask.github.io/test-dapp/metamask-fox.svg', // 'https://i.seadn.io/gae/0cOqWoYA7xL9CkUjGlxsjreSYBdrUBE0c6EO1COG4XE8UeP-Z30ckqUNiL872zHQHQU5MUNMNhfDpyXIP17hRSC5HQ?w=500&auto=format',
      is_subject_to_whitelist: false,
      large_image_url:
        'https://i.seadn.io/gae/BBj09xD7R4bBtg1lgnAAS9_TfoYXKwMtudlk-0fVljlURaK7BWcARCpkM-1LGNGTAcsGO6V1TgrtmQFvCo8uVYW_QEfASK-9j6Nr?w=500&auto=format',
      medium_username: 'the-ethereum-name-service',
      name: 'ENS: Ethereum Name Service',
      only_proxied_transfers: false,
      opensea_buyer_fee_basis_points: '0',
      opensea_seller_fee_basis_points: 250,
      payout_address: null,
      require_email: false,
      short_description: null,
      slug: 'ens',
      telegram_url: null,
      twitter_username: 'ensdomains',
      instagram_username: null,
      wiki_url: null,
      is_nsfw: false,
      fees: {
        seller_fees: {},
        opensea_fees: {
          '0x0000a26b00c1f0df003000390027140000faa719': 250,
        },
      },
      is_rarity_enabled: false,
      is_creator_fees_enforced: false,
    },
    address: '0x57f1887a8bf19b14fc0df6fd9b2acc9af147ea85',
    asset_contract_type: 'non-fungible',
    chain_identifier: 'ethereum',
    created_date: '2019-05-08T21:59:29.327544',
    name: 'Unidentified contract',
    nft_version: null,
    opensea_version: null,
    owner: 111982386,
    schema_name: 'ERC721',
    symbol: '',
    total_supply: '0',
    description:
      'Ethereum Name Service (ENS) domains are secure domain names for the decentralized world. ENS domains provide a way for users to map human readable names to blockchain and non-blockchain resources, like Ethereum addresses, IPFS hashes, or website URLs. ENS domains can be bought and sold on secondary markets.',
    external_link: 'https://ens.domains',
    image_url: 'https://metamask.github.io/test-dapp/metamask-fox.svg', // 'https://i.seadn.io/gae/0cOqWoYA7xL9CkUjGlxsjreSYBdrUBE0c6EO1COG4XE8UeP-Z30ckqUNiL872zHQHQU5MUNMNhfDpyXIP17hRSC5HQ?w=500&auto=format',
    default_to_fiat: false,
    dev_buyer_fee_basis_points: 0,
    dev_seller_fee_basis_points: 0,
    only_proxied_transfers: false,
    opensea_buyer_fee_basis_points: 0,
    opensea_seller_fee_basis_points: 250,
    buyer_fee_basis_points: 0,
    seller_fee_basis_points: 250,
    payout_address: null,
  };

  // Get assets for owner
  server
    .forGet('https://proxy.metafi.codefi.network/opensea/v1/api/v1/assets')
    .withQuery({ offset: 0 })
    .thenCallback(() => {
      return {
        statusCode: 200,
        json: assets,
      };
    });

  // Get assets for owner continued
  server
    .forGet('https://proxy.metafi.codefi.network/opensea/v1/api/v1/assets')
    .withQuery({ offset: 50 })
    .thenCallback(() => {
      return {
        statusCode: 200,
        json: assetEmpty,
      };
    });

  // Get asset contract details
  server
    .forGet(
      'https://proxy.metafi.codefi.network/opensea/v1/api/v1/asset_contract/0x57f1887a8BF19b14fC0dF6Fd9B2acc9Af147eA85',
    )
    .thenCallback(() => {
      return {
        statusCode: 200,
        json: assetContract,
      };
    });

  // eth_blockNumber
  server
    .forPost('/v3/00000000000000000000000000000000')
    .withBodyIncluding('eth_blockNumber')
    .thenCallback(() => {
      return {
        statusCode: 200,
        json: {
          jsonrpc: '2.0',
          id: 1111111111111111,
          result: '0x1',
        },
      };
    });

  // eth_getBlockByNumber
  server
    .forPost('/v3/00000000000000000000000000000000')
    .withBodyIncluding('eth_getBlockByNumber')
    .thenCallback(() => {
      return {
        statusCode: 200,
        json: {
          jsonrpc: '2.0',
          id: 1111111111111111,
          result: {},
        },
      };
    });

  // eth_call
  server
    .forPost('/v3/00000000000000000000000000000000')
    .withBodyIncluding('eth_call')
    .thenCallback(() => {
      return {
        statusCode: 200,
        json: {
          jsonrpc: '2.0',
          id: 1111111111111111,
          result: '0x1',
        },
      };
    });
}

module.exports = {
  setupAutoDetectMocking,
};
